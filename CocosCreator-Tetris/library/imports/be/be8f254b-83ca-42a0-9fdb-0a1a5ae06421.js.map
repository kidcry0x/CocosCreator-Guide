{"version":3,"sources":["assets\\tool\\config-tool.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Tool extends cc.Component {\r\n\r\n    @property(cc.Node)\r\n    buttons: cc.Node = undefined\r\n\r\n    clickData: boolean[][] = []\r\n\r\n    onLoad () {\r\n        this.initData()\r\n        this.registerEvent()\r\n        this.clear()\r\n    }\r\n\r\n    initData () {\r\n        for(let i = 0; i < 4; i++) {\r\n            this.clickData[i] = []\r\n            for (let j = 0; j < 4; j++) {\r\n                this.clickData[i][j] = false\r\n            }\r\n        }\r\n    }\r\n\r\n    outData () {\r\n        // cc.log(this.clickData)\r\n        const data: cc.Vec2[] = []\r\n        for(let i = 0; i < 4; i++) {\r\n            for (let j = 0; j < 4; j++) {\r\n                if (this.clickData[i][j]) {\r\n                    data.push(cc.v2(i, j))\r\n                }\r\n            }\r\n        }\r\n        // 做偏移后转字符串\r\n        let str = '['\r\n        data.forEach((v, index) => {\r\n            const x = v.x - 1\r\n            const y = v.y - 1\r\n            str += `cc.v2(${x}, ${y})`\r\n            if (index !== data.length - 1) {\r\n                str += ', '\r\n            }\r\n        })\r\n        str += ']'\r\n        cc.log(str)\r\n    }\r\n\r\n    clear () {\r\n        this.buttons.children.forEach((node, index) => {\r\n            const bk = node.children[0]\r\n            bk.color = cc.color(220, 220, 220)\r\n            const pos = this.indexToRowCol(index)\r\n            this.clickData[pos.x][pos.y] = false\r\n        })\r\n    }\r\n\r\n    onButtonClick (index: number, node: cc.Node) {\r\n        const bk = node.children[0]\r\n        bk.color = cc.Color.GREEN\r\n        const pos = this.indexToRowCol(index)\r\n        this.clickData[pos.x][pos.y] = true\r\n    }\r\n\r\n    registerEvent () {\r\n        this.buttons.children.forEach((node, index) => {\r\n            node.on(cc.Node.EventType.TOUCH_END, (event: cc.Event.EventTouch) => {\r\n                this.onButtonClick(index, event.target)\r\n            })\r\n        })\r\n    }\r\n\r\n    /** 0-15 转化为数据坐标 */\r\n    indexToRowCol (index: number) {\r\n        const row = Math.floor(index / 4)\r\n        const col = index % 4\r\n        // cc.warn(row, col)\r\n        return cc.v2(row, col)\r\n    }\r\n\r\n}\r\n"]}